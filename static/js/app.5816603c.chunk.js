(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{379:function(t,e,n){"use strict";var o=n(23),r=n.n(o),a=n(9),i=n.n(a),c=n(43),s=n.n(c),l=n(1),u=n.n(l),d=n(13),f=n(62),p=n(2),m=n(4),g=n(200),h=n(137),v=n(326),b=n(323),y=n(616),k=n(617),T="#ccc",x="#2f95dc";function E(t){return l.createElement(v.a,{name:t.name,size:30,style:{marginBottom:-3},color:t.focused?x:T})}var O=n(29),S=n.n(O),C=n(5),w=n.n(C),P=n(6),j=n.n(P),R=n(7),L=n.n(R),A=n(8),D=n.n(A),I=n(3),B=n.n(I),N=(n(249),n(15)),z=n(35),H=n(134),F=n(65),W=n(147);function V(t){return void 0===t.route.params?u.a.createElement(u.a.Fragment,null):u.a.createElement(u.a.Fragment,null,u.a.createElement(W.a,{title:"Back",onPress:function(){return t.navigation.goBack()}}),u.a.createElement(N.a,null,t.route.params.task.text),u.a.createElement(N.a,null,t.route.params.task.details))}var J=n(378),M=u.a.createContext({theme:"light",setTaskCount:function(){},taskCount:0});function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var _=Object(y.a)();function q(t){var e=t.navigate,n=t.item,o=t.completeTask,r=t.removeTask,a=l.useState(!1),i=s()(a,2),c=i[0],u=i[1];return l.createElement(J.a,{style:X.card},l.createElement(z.a,{onPress:function(){return e.push("Detail",{task:n})}},l.createElement(m.a,{style:X.todoView},l.createElement(H.b,{checked:n.completed,onPress:function(){return o()}}),l.createElement(N.a,null,n.text," ",n.completed?"COMPLETED":""),l.createElement(m.a,{style:{position:"absolute",right:0}},l.createElement(z.a,{style:[X.deleteButton,c&&X.confirming],onPress:function(){return c?r():u(!0)}},c?l.createElement(N.a,{style:X.confirmingText},"Delete"):l.createElement(v.a,{name:"ios-close",size:30,style:{marginRight:10}}))))))}function K(){return l.createElement(_.Navigator,{screenOptions:{headerShown:!1}},l.createElement(_.Screen,{name:"TodoList",component:Q}),l.createElement(_.Screen,{name:"Detail",component:V}))}var Q=function(t){L()(o,t);var e,n=(e=o,function(){var t,n=B()(e);if(U()){var o=B()(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return D()(this,t)});function o(t){var e;return w()(this,o),(e=n.call(this,t)).focusListener=void 0,e.state={todoList:[]},e.focusListener=t.navigation.addListener("focus",(function(){return e.componentGainsFocus()})),e}return j()(o,[{key:"updateTaskList",value:function(){var t=this;fetch("https://plato.mrl.ai:8081/todo",{headers:{API:"murray"}}).then((function(t){return t.json()})).then((function(e){console.log(e),t.setState({todoList:e.todo}),t.context.setTaskCount(e.todo.length)}))}},{key:"componentGainsFocus",value:function(){if(void 0!==this.props.route.params){var t=this.props.route.params.task;console.log("Has focus"),console.log(t);var e=this.state.todoList;e=[].concat(S()(this.state.todoList),[t]),this.setState({todoList:e}),this.context.setTaskCount(e.length)}}},{key:"componentWillUnmount",value:function(){this.props.navigation.removeListener("focus",this.componentGainsFocus)}},{key:"componentDidMount",value:function(){this.updateTaskList()}},{key:"removeTask",value:function(t){var e=this;console.log(t),fetch("https://plato.mrl.ai:8081/todo/remove",{method:"POST",headers:{API:"murray","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({position:t})}).then((function(t){return t.json()})).then((function(n){if(console.log(n),void 0!=n.removed){var o=e.state.todoList.filter((function(e,n){return n!==t}));e.setState({todoList:o}),e.context.setTaskCount(o.length)}}))}},{key:"completeTask",value:function(t,e){var n=this;fetch("https://plato.mrl.ai:8081/todo/setState",{method:"POST",headers:{API:"murray","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({position:t,status:e})}).then((function(t){return t.json()})).then((function(o){if(console.log(o),void 0!=o.updated){var r=S()(n.state.todoList);r[t].completed=e,n.setState({todoList:r}),n.context.setTaskCount(r.length)}}))}},{key:"render",value:function(){var t=this;return l.createElement(m.a,{style:X.container},l.createElement(F.d,{style:X.container,contentContainerStyle:X.contentContainer},this.state.todoList.map((function(e,n){return l.createElement(q,{key:n,index:n,navigate:t.props.navigation,item:e,completeTask:function(){return t.completeTask(n,!e.completed)},removeTask:function(){return t.removeTask(n)}})}))),l.createElement(m.a,null,l.createElement(z.a,{style:X.addTask,onPress:function(){return t.props.navigation.navigate("Add")}},l.createElement(N.a,null,"New Task"))))}}]),o}(l.Component);Q.contextType=M,K.navigationOptions={header:null};var X=p.a.create({addTask:{padding:10},addTaskText:{},deleteButton:{padding:10,borderRadius:15},confirming:{backgroundColor:"red"},confirmingText:{color:"white"},todoView:{width:"100%",display:"block"},todoView:{flex:1,flexDirection:"row",backgroundColor:"#fff",alignItems:"center"},container:{flex:1,backgroundColor:"#fff"},developmentModeText:{marginBottom:20,color:"rgba(0,0,0,0.4)",fontSize:14,lineHeight:19,textAlign:"center"},contentContainer:{paddingTop:30},welcomeContainer:{alignItems:"center",marginTop:10,marginBottom:20},welcomeImage:{width:100,height:80,resizeMode:"contain",marginTop:3,marginLeft:-10},getStartedContainer:{alignItems:"center",marginHorizontal:50},homeScreenFilename:{marginVertical:7},codeHighlightText:{color:"rgba(96,100,109, 0.8)"},codeHighlightContainer:{backgroundColor:"rgba(0,0,0,0.05)",borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,color:"rgba(96,100,109, 1)",lineHeight:24,textAlign:"center"},tabBarInfoContainer:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",bottom:0,left:0,right:0},d.a.select({ios:{shadowColor:"black",shadowOffset:{width:0,height:-3},shadowOpacity:.1,shadowRadius:3},android:{elevation:20}}),{alignItems:"center",backgroundColor:"#fbfbfb",paddingVertical:20}),tabBarInfoText:{fontSize:17,color:"rgba(96,100,109, 1)",textAlign:"center"},navigationFilename:{marginTop:5},helpContainer:{marginTop:15,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{fontSize:14,color:"#2e78b7"}}),Y=n(380);function Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var $=[{label:"1",value:0},{label:"2",value:1},{label:"3",value:3}],tt=function(t){L()(o,t);var e,n=(e=o,function(){var t,n=B()(e);if(Z()){var o=B()(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return D()(this,t)});function o(t){var e;return w()(this,o),(e=n.call(this,t)).state={submitDisabled:!0,taskText:"",taskPriority:0},e}return j()(o,[{key:"handleTextInput",value:function(t){t.length>0?this.setState({submitDisabled:!1,taskText:t}):(this.setState({submitDisabled:!0}),console.log(t))}},{key:"handleCreateTask",value:function(){var t=this;console.log("Added!"),console.log(this.state.taskText,this.state.taskPriority),fetch("https://plato.mrl.ai:8081/todo/add",{method:"POST",headers:{API:"murray","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({text:this.state.taskText,priority:this.state.taskPriority})}).then((function(t){return t.json()})).then((function(e){console.log(e),void 0!==e.added?(console.log("Successfully added task!"),t.props.navigation.navigate("TodoList",{task:{text:t.state.taskText,priority:t.state.taskPriority}})):console.log("Error adding task")}))}},{key:"handlePriorityInput",value:function(){}},{key:"render",value:function(){var t=this;return l.createElement(F.d,{style:et.container,contentContainerStyle:et.contentContainer},l.createElement(H.c,{placeholder:"e.g. Complete Final Project for DIG4639",onChangeText:function(e){return t.handleTextInput(e)}}),l.createElement(m.a,{style:et.priorityRow},l.createElement(N.a,{style:et.labelText},"Priority:"),l.createElement(Y.a,{radio_props:$,initial:0,formHorizontal:!0,labelHorizontal:!1,onPress:function(e){t.setState({taskPriority:e})}})),l.createElement(H.a,{title:"Create Task",disabled:this.state.submitDisabled,onPress:function(){return t.handleCreateTask()}}))}}]),o}(l.Component),et=p.a.create({labelText:{fontSize:25},priorityRow:{flex:1,alignItems:"center",paddingTop:25,flexDirection:"row",backgroundColor:"#fafafa"},container:{flex:1,backgroundColor:"#fafafa"},contentContainer:{paddingTop:15},optionIconContainer:{marginRight:12},option:{backgroundColor:"#fdfdfd",paddingHorizontal:15,paddingVertical:15,borderWidth:p.a.hairlineWidth,borderBottomWidth:0,borderColor:"#ededed"},lastOption:{borderBottomWidth:p.a.hairlineWidth},optionText:{fontSize:15,alignSelf:"flex-start",marginTop:1}});p.a.create({tabBarLabel:{paddingBottom:6,fontSize:10,textAlign:"center"},tabBarLabelActive:{color:x}});var nt=Object(k.a)();function ot(t){var e=t.navigation,n=t.route;return e.setOptions({headerTitle:rt(n)}),l.createElement(M.Consumer,null,(function(t){var e=t.taskCount;return l.createElement(nt.Navigator,{initialRouteName:"Todo"},l.createElement(nt.Screen,{name:"Todo",component:K,title:"Todo List",options:{title:"Todo List",tabBarIcon:function(t){var e=t.focused;return l.createElement(E,{focused:e,name:"ios-list"})},tabBarBadge:e}}),l.createElement(nt.Screen,{name:"Add",component:tt,title:"Add Task",options:{title:"Add Task",tabBarIcon:function(t){var e=t.focused;return l.createElement(E,{focused:e,name:"ios-add"})}}}))}))}function rt(t){var e,n,o;switch(null!=(e=null==(n=t.state)||null==(o=n.routes[t.state.index])?void 0:o.name)?e:"Todo"){case"Todo":return"Todo List:";case"Add":return"Create a new Task:";case"Detail":return"Task details:"}}var at=n(321),it=n(325);function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return ut}));var lt=Object(y.a)();function ut(t){var e=l.useState(!1),o=s()(e,2),a=o[0],i=o[1],c=l.useState(),u=s()(c,2),p=u[0],y=u[1],k=l.useRef(),T=l.useState({theme:"light",setTaskCount:function t(e){return O({setTaskCount:t,taskCount:e})},taskCount:0}),x=s()(T,2),E=x[0],O=x[1],S=function(t){return Object(at.a)(t,{prefixes:[it.a.makeUrl("/RN-TodoApp")],config:{Root:{path:"RN-TodoApp",screens:{Add:"RN-TodoApp/add",Todo:{path:"RN-TodoApp/todoStack",screens:{TodoList:"RN-TodoApp/todo",Detail:"RN-TodoApp/detail"}},Settings:"RN-TodoApp/settings"}}}})}(k).getInitialState;return l.useEffect((function(){r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g.a.preventAutoHide(),t.t0=y,t.next=5,r.a.awrap(S());case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.next=9,r.a.awrap(h.b(st({},v.a.font,{"space-mono":n(606)})));case 9:t.next=14;break;case 11:t.prev=11,t.t2=t.catch(0),console.warn(t.t2);case 14:return t.prev=14,i(!0),g.a.hide(),t.finish(14);case 18:case"end":return t.stop()}}),null,null,[[0,11,14,18]],Promise)}),[]),a||t.skipLoadingScreen?l.createElement(m.a,{style:dt.outer},l.createElement(m.a,{style:dt.container},l.createElement(M.Provider,{value:E},"ios"===d.a.OS&&l.createElement(f.a,{barStyle:"default"}),l.createElement(b.a,{ref:k,initialState:p},l.createElement(lt.Navigator,null,l.createElement(lt.Screen,{name:"Root",component:ot})))))):null}var dt=p.a.create({outer:{flex:1,flexDirection:"row"},container:{flex:1,maxWidth:800,marginLeft:"auto",marginRight:"auto",backgroundColor:"#fff"}})},394:function(t,e,n){n(395),t.exports=n(396)},395:function(t,e){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/RN-TodoApp/expo-service-worker.js",{scope:"/RN-TodoApp/"}).then((function(t){})).catch((function(t){console.info("Failed to register service-worker",t)}))}))},606:function(t,e,n){t.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[394,1,2]]]);
//# sourceMappingURL=app.5816603c.chunk.js.map